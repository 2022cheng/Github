//数制转换问题
/*算法实现效果，输入一个10进制数n,要求借助栈将其转化为对应的r进制整数输出*/
#include<stdio.h>
#include<malloc.h>
#define MAXSIZE 100
#define OK 1
#define ERROR 0
typedef int Status;
typedef float ElemType;
typedef struct
{
	ElemType data[MAXSIZE];
	Status top;
}SqStack;

Status InitStack(SqStack *&S)  //初始化操作
{

	S=(SqStack *)malloc(sizeof(SqStack));
	S->top=-1;
	if(S->top) //printf("置空栈成功\n");
	return OK;
}
Status Push(SqStack *&S, int n,int r)
{
    while(n)
    {
        S->top++;
        S->data[S->top]=n%r;
        n=n/r;
    }
    return OK;
}
void Pop(SqStack *&s) //出栈
{
    int e;
    printf("转换所得数为：");
    while(s->top!=-1)
    {
        e=s->data[s->top];
        s->top--;
        if(e<10)
            printf("%d",e);
        else
            printf("%c",e+55);
    }
    printf("\n");
}

int main()
{
    SqStack *S;
    int n,r;
    printf("请输入一个10进制数字\n");
    scanf("%d",&n);
    printf("请输入所要转换的进制\n");
    scanf("%d",&r);
    InitStack(S);
    if(n==0)
     printf("%d的%d进制为0",n,r);
    else
    {
     Push(S,n,r);
     Pop(S);
    }
    return 0;
 }


